# 20240628

### TODO:
- ~~按键控制：Tab进入Panel，Tab/Esc退出Panel~~
- UI接入Protagonist
  - ~~读取BehaviourDict~~
  - 读取TermInfoDict
  - 展示Item
- BehaviourPanel实现
  - Key的选择圆盘
  - Behaviour的选择圆盘
  - ItemButton触发ItemPanel/RecipePanel并加载

### BehaviourPanel实现
`Protagonist`下有`UnitBehaviour`包含BehaviourPanel所需的全部信息：
```csharp
public class UnitBehaviour : MonoBehaviour {
    public Dictionary<string, CharacterTermInfo> termDict = new Dictionary<string, CharacterTermInfo>() {};
    public Dictionary<string, List<Recipe>> craftDict = new Dictionary<string, List<Recipe>>() {};
    public Dictionary<CastKey, CombatBehaviour> behaviourDict = new Dictionary<CastKey, CombatBehaviour>() {};
    // ...
}
```
UI元素持有Protagonist引用即可。

具体的读取逻辑可以参考Achievements。

对于BehaviourPanel，打开时实时读取`protagonist.unitBehaviour`并生成。

Behaviour更新需要通知UI，如何通知？
目前是提供一个刷新方法，刷新时删除全部再重新读取behaivourDict。后续用对象池改一下（对BehaviourPanel不重要，但是考虑ItemPanel的元素变多时，**不紧急**）。

按键的监听实现需要参考UOP的InputReader。

分析HotkeyEvent实现。
使用HotkeyEvent作为PlayerPanel的开关，同时作为InputReader的GamePlay开关。
#### 圆盘实现
